<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head xmlns="http://www.w3.org/1999/xhtml"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Writing to Elasticsearch</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch for Apache Hadoop" /><link rel="up" href="architecture.html" title="Architecture" /><link rel="prev" href="_reading_from_elasticsearch.html" title="Reading from Elasticsearch" /><link rel="next" href="_data_co_location.html" title="Data co-location" /><script xmlns="" type="text/javascript" src="http://www.elasticsearch.org/wp-includes/js/jquery/jquery.js?ver=1.8.3"></script><link xmlns="" rel="stylesheet" id="prettify-gc-syntax-highlighter-css" href="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/prettify.css?ver=3.5.2" type="text/css" media="all" /><link xmlns="" rel="stylesheet" id="appStyles-css" href="http://www.elasticsearch.org/content/themes/elasticsearch-org/css/main.css?ver=1376314515" type="text/css" media="all" /><script xmlns="" type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/vendor/modernizr-2.6.1.min.js?ver=1"></script><script xmlns="" type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/vendor/selectivizr-min.js?ver=1"></script><script xmlns="" type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/plugins.min.js?ver=1375472072"></script><link xmlns="" rel="stylesheet" type="text/css" href="styles.css" /></head><body class="single single-guide"><div class="global_wrapper"><div id="index" class="page_content"><div class="container"><section class="full_width guide"><article class="guide_content"><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch for Apache Hadoop</a></span> &gt; <span class="breadcrumb-link"><a href="_reference.html">Reference</a></span> &gt; <span class="breadcrumb-link"><a href="architecture.html">Architecture</a></span> &gt; <span class="breadcrumb-node">Writing to Elasticsearch</span></div><div class="navheader"><span class="prev"><a href="_reading_from_elasticsearch.html">
              « 
              Reading from Elasticsearch</a>
           
        </span><span class="next">
           
          <a href="_data_co_location.html">Data co-location
               » 
            </a></span></div><div xmlns="http://www.w3.org/1999/xhtml" class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_writing_to_elasticsearch"></a>Writing to Elasticsearch</h2></div></div></div><div xmlns="" class="toc"><dl><dt xmlns="http://www.w3.org/1999/xhtml"><span class="section"><a href="_map_reduce_and_shards.html">Map/Reduce and Shards</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="section"><a href="_reading_from_elasticsearch.html">Reading from Elasticsearch</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="section"><a href="_writing_to_elasticsearch.html">Writing to Elasticsearch</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="section"><a href="_data_co_location.html">Data co-location</a></span></dt></dl></div><p>Writing to Elasticsearch is driven by the number of input splits (or Hadoop tasks) available. In the current form, elasticsearch-hadoop uses only one node on the Elasticsearch side to handle the writing which acts as a proxy within the Elasticsearch cluster: as data flows in, based on its identity and cluster setting, Elasticsearch will route it to the appropriate shard.
The more splits are available, the more reducers can write data in parallel to Elasticsearch.</p><p>For the vast majority of cases, using only one node on the Elasticsearch side should pose no problem - if the network is not saturated, Elasticsearch can ingest the data just fine. However, for cases where this happens (again benchmark first instead of guessing), we are working on using multiple nodes based on the available index.</p></div><div class="navfooter"><span class="prev"><a href="_reading_from_elasticsearch.html">
              « 
              Reading from Elasticsearch</a>
           
        </span><span class="next">
           
          <a href="_data_co_location.html">Data co-location
               » 
            </a></span></div></article></section></div></div></div><script type="text/javascript" src="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/prettify.js?ver=3.5.2"></script><script type="text/javascript" src="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/launch.js?ver=3.5.2"></script></body></html>
