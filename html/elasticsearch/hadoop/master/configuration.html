<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head xmlns="http://www.w3.org/1999/xhtml"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configuration</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch for Apache Hadoop" /><link rel="up" href="_reference.html" title="Reference" /><link rel="prev" href="_data_co_location.html" title="Data co-location" /><link rel="next" href="runtime-configuration.html" title="Hadoop runtime options" /><script xmlns="" type="text/javascript" src="http://www.elasticsearch.org/wp-includes/js/jquery/jquery.js?ver=1.8.3"></script><link xmlns="" rel="stylesheet" id="prettify-gc-syntax-highlighter-css" href="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/prettify.css?ver=3.5.2" type="text/css" media="all" /><link xmlns="" rel="stylesheet" id="appStyles-css" href="http://www.elasticsearch.org/content/themes/elasticsearch-org/css/main.css?ver=1376314515" type="text/css" media="all" /><script xmlns="" type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/vendor/modernizr-2.6.1.min.js?ver=1"></script><script xmlns="" type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/vendor/selectivizr-min.js?ver=1"></script><script xmlns="" type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/plugins.min.js?ver=1375472072"></script><link xmlns="" rel="stylesheet" type="text/css" href="styles.css" /></head><body class="single single-guide"><div class="global_wrapper"><div id="index" class="page_content"><div class="container"><section class="full_width guide"><article class="guide_content"><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch for Apache Hadoop</a></span> &gt; <span class="breadcrumb-link"><a href="_reference.html">Reference</a></span> &gt; <span class="breadcrumb-node">Configuration</span></div><div class="navheader"><span class="prev"><a href="_data_co_location.html">
              « 
              Data co-location</a>
           
        </span><span class="next">
           
          <a href="runtime-configuration.html">Hadoop runtime options
               » 
            </a></span></div><div xmlns="http://www.w3.org/1999/xhtml" class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="configuration"></a>Configuration</h2></div></div></div><div xmlns="" class="toc"><dl><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="architecture.html">Architecture</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="configuration.html">Configuration</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="runtime-configuration.html">Hadoop runtime options</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="mapreduce.html">Map/Reduce integration</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="cascading.html">Cascading support</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="hive.html">Apache Hive integration</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="pig.html">Apache Pig support</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="mapping.html">Mapping and Types</a></span></dt></dl></div><p>elasticsearch-hadoop behavior can be customized through the properties below, typically by setting them on the target job Hadoop <code class="literal">Configuration</code>. However some of them can be specified through other means depending on the library used (see the relevant section).</p><div class="sidebar"><div class="titlepage"></div><p>elasticsearch-hadoop uses the same conventions and reasonable defaults as Elasticsearch so you can give it a try out without bothering with the configuration. Most of the time, these defaults are just fine for running a production cluster; if you are fine-tunning your cluster or wondering about the effect of certain configuration option, please <span class="emphasis"><em>do ask</em></span> for more information.</p></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>All configuration properties start with the <code class="literal">es</code> prefix. The namespace <code class="literal">es.internal</code> is reserved by the library for its internal use and should <span class="emphasis"><em>not</em></span> be used by the user at any point.</p></td></tr></table></div><h3><a id="_required_settings"></a>Required settings</h3><p><strong><code class="literal">es.resource</code>. </strong>Elasticsearch resource location, relative to the Elasticsearch host/port (see below). Can be either an index/type (for writing) or a search query.</p><p><strong>Examples. </strong>
</p><pre class="programlisting prettyprint lang-ini">es.resource = twitter/costinl                   # write to index 'twitter', type 'costinl'
es.resource = twitter/costinl/_search?q=hadoop  # read entries matching 'hadoop' from 'twitter/costinl'</pre><p>
</p><h3><a id="_optional_settings"></a>Optional settings</h3><h4><a id="_network"></a>Network</h4><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">es.host</code> (default localhost)
</span></dt><dd>
Elasticsearch cluster node. When using Elasticsearch remotely, <span class="emphasis"><em>do</em></span> set this option.
</dd><dt><span class="term">
<code class="literal">es.port</code> (default 9200)
</span></dt><dd>
HTTP/REST port used for connecting to Elasticsearch.
</dd><dt><span class="term">
<code class="literal">es.http.timeout</code> (default 1m)
</span></dt><dd>
Timeout for HTTP/REST connections to Elasticsearch.
</dd><dt><span class="term">
<code class="literal">es.scroll.keepalive</code> (default 10m)
</span></dt><dd>
The maximum duration of result scrolls between query requests.
</dd><dt><span class="term">
<code class="literal">es.scroll.size</code> (default 50)
</span></dt><dd>
Number of results/items returned by each individual scroll.
</dd></dl></div><h4><a id="configuration-options-index"></a>Index</h4><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">es.index.auto.create</code> (default yes)
</span></dt><dd>
Whether elasticsearch-hadoop should create an index (if its missing) when writing data to Elasticsearch or fail.
</dd><dt><span class="term">
<code class="literal">es.index.read.missing.as.empty</code> (default no)
</span></dt><dd>
Whether elasticsearch-hadoop will allow reading of non existing indices (and return an empty data set) or not (and throw an exception)
</dd></dl></div><h4><a id="_serialization"></a>Serialization</h4><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">es.batch.size.bytes</code> (default 10mb)
</span></dt><dd>
Size (in bytes) for batch writes using Elasticsearch <a class="ulink" href="http://www.elasticsearch.org/guide/elasticsearch/reference/current/docs-bulk.html" target="_top">bulk</a> API
</dd><dt><span class="term">
<code class="literal">es.batch.size.entries</code> (default 0/disabled)
</span></dt><dd>
Size (in entries) for batch writes using Elasticsearch <a class="ulink" href="http://www.elasticsearch.org/guide/elasticsearch/reference/current/docs-bulk.html" target="_top">bulk</a> API. Companion to <code class="literal">es.batch.size.bytes</code>, once one matches, the batch update is executed.
</dd><dt><span class="term">
<code class="literal">es.batch.write.refresh</code> (default true)
</span></dt><dd>
Whether to invoke an <a class="ulink" href="http://www.elasticsearch.org/guide/elasticsearch/reference/current/indices-refresh.html" target="_top">index refresh</a> or not after a bulk update has been completed. Note this is called only after the entire write (meaning multiple bulk updates) have been executed.
</dd><dt><span class="term">
<code class="literal">es.ser.reader.class</code> (default <span class="emphasis"><em>depends on the library used</em></span>)
</span></dt><dd>
Name of the <code class="literal">ValueReader</code> implementation for converting JSON to objects. This is set by the framework depending on the library (Map/Reduce, Cascading, Hive, Pig, etc…) used.
</dd><dt><span class="term">
<code class="literal">es.ser.writer.class</code> (default <span class="emphasis"><em>depends on the library used</em></span>)
</span></dt><dd>
Name of the <code class="literal">ValueWriter</code> implementation for converting objects to JSON. This is set by the framework depending on the library (Map/Reduce, Cascading, Hive, Pig, etc…) used.
</dd></dl></div></div><div class="navfooter"><span class="prev"><a href="_data_co_location.html">
              « 
              Data co-location</a>
           
        </span><span class="next">
           
          <a href="runtime-configuration.html">Hadoop runtime options
               » 
            </a></span></div></article></section></div></div></div><script type="text/javascript" src="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/prettify.js?ver=3.5.2"></script><script type="text/javascript" src="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/launch.js?ver=3.5.2"></script></body></html>
