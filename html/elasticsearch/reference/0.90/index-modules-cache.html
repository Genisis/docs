<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head xmlns="http://www.w3.org/1999/xhtml"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Cache</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Reference" /><link rel="up" href="index-modules.html" title="Index Modules" /><link rel="prev" href="index-modules-translog.html" title="Translog" /><link rel="next" href="index-modules-fielddata.html" title="Field data" /><script xmlns="" type="text/javascript" src="http://www.elasticsearch.org/wp-includes/js/jquery/jquery.js?ver=1.8.3"></script><link xmlns="" rel="stylesheet" id="prettify-gc-syntax-highlighter-css" href="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/prettify.css?ver=3.5.2" type="text/css" media="all" /><link xmlns="" rel="stylesheet" id="appStyles-css" href="http://www.elasticsearch.org/content/themes/elasticsearch-org/css/main.css?ver=1376314515" type="text/css" media="all" /><script xmlns="" type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/vendor/modernizr-2.6.1.min.js?ver=1"></script><script xmlns="" type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/vendor/selectivizr-min.js?ver=1"></script><script xmlns="" type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/plugins.min.js?ver=1375472072"></script><link xmlns="" rel="stylesheet" type="text/css" href="styles.css" /></head><body class="single single-guide"><div class="global_wrapper"><div id="index" class="page_content"><div class="container"><section class="full_width guide"><article class="guide_content"><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Reference</a></span> &gt; <span class="breadcrumb-link"><a href="index-modules.html">Index Modules</a></span> &gt; <span class="breadcrumb-node">Cache</span></div><div class="navheader"><span class="prev"><a href="index-modules-translog.html">
              « 
              Translog</a>
           
        </span><span class="next">
           
          <a href="index-modules-fielddata.html">Field data
               » 
            </a></span></div><div xmlns="http://www.w3.org/1999/xhtml" class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="index-modules-cache"></a>Cache</h2></div></div></div><div xmlns="" class="toc"><dl><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="index-modules-analysis.html">Analysis</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="index-modules-allocation.html">Index Shard Allocation</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="index-modules-slowlog.html">Index Slow Log</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="index-modules-merge.html">Merge</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="index-modules-store.html">Store</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="index-modules-mapper.html">Mapper</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="index-modules-translog.html">Translog</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="index-modules-cache.html">Cache</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="index-modules-fielddata.html">Field data</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="index-modules-codec.html">Codec module</a></span></dt><dt xmlns="http://www.w3.org/1999/xhtml"><span class="chapter"><a href="index-modules-similarity.html">Similarity module</a></span></dt></dl></div><p>There are different caching inner modules associated with an index. They
include <code class="literal">filter</code> and others.</p><h3><a id="_filter_cache"></a>Filter Cache</h3><p>The filter cache is responsible for caching the results of filters (used
in the query). The default implementation of a filter cache (and the one
recommended to use in almost all cases) is the <code class="literal">node</code> filter cache type.</p><h4><a id="_node_filter_cache"></a>Node Filter Cache</h4><p>The <code class="literal">node</code> filter cache may be configured to use either a percentage of
the total memory allocated to the process or an specific amount of
memory. All shards present on a node share a single node cache (thats
why its called <code class="literal">node`</code>). The cache implements an LRU eviction policy:
when a cache becomes full, the least recently used data is evicted to
make way for new data.</p><p>The setting that allows one to control the memory size for the filter
cache is <code class="literal">indices.cache.filter.size</code>, which defaults to <code class="literal">20%</code>. <span class="strong"><strong>Note</strong></span>,
this is <span class="strong"><strong>not</strong></span> an index level setting but a node level setting (can be
configured in the node configuration).</p><p><code class="literal">indices.cache.filter.size</code> can accept either a percentage value, like
<code class="literal">30%</code>, or an exact value, like <code class="literal">512mb</code>.</p><h4><a id="_index_filter_cache_2"></a>Index Filter Cache</h4><p>A filter cache that exists on the index level (on each node). Generally,
not recommended for use since its memory usage depends on which shards
are allocated on each node and its hard to predict it. The types are:
<code class="literal">resident</code>, <code class="literal">soft</code> and <code class="literal">weak</code>.</p><p>All types support the following settings:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Setting </th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">index.cache.filter.max_size</code></p></td><td align="left" valign="top"><p>The max size (count, not byte size) of
the cache (per search segment in a shard). Defaults to not set (<code class="literal">-1</code>),
which is usually fine with <code class="literal">soft</code> cache and proper cacheable filters.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">index.cache.filter.expire</code></p></td><td align="left" valign="top"><p>A time based setting that expires filters
after a certain time of inactivity. Defaults to <code class="literal">-1</code>. For example, can
be set to <code class="literal">5m</code> for a 5 minute expiry.</p></td></tr></tbody></table></div></div><div class="navfooter"><span class="prev"><a href="index-modules-translog.html">
              « 
              Translog</a>
           
        </span><span class="next">
           
          <a href="index-modules-fielddata.html">Field data
               » 
            </a></span></div></article></section></div></div></div><script type="text/javascript" src="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/prettify.js?ver=3.5.2"></script><script type="text/javascript" src="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/launch.js?ver=3.5.2"></script></body></html>
