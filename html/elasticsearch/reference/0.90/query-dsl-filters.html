<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Filters</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Reference" /><link rel="up" href="query-dsl.html" title="Query DSL" /><link rel="prev" href="query-dsl-multi-term-rewrite.html" title="Multi Term Query Rewrite" /><link rel="next" href="query-dsl-and-filter.html" title="And Filter" /><script type="text/javascript" src="http://www.elasticsearch.org/wp-includes/js/jquery/jquery.js?ver=1.8.3"></script><link rel="stylesheet" id="prettify-gc-syntax-highlighter-css" href="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/prettify.css?ver=3.5.2" type="text/css" media="all" /><link rel="stylesheet" id="appStyles-css" href="http://www.elasticsearch.org/content/themes/elasticsearch-org/css/main.css?ver=1376314515" type="text/css" media="all" /><script type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/vendor/modernizr-2.6.1.min.js?ver=1"></script><script type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/vendor/selectivizr-min.js?ver=1"></script><script type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/plugins.min.js?ver=1375472072"></script><link rel="stylesheet" type="text/css" href="styles.css" /></head><body class="single single-guide"><div class="global_wrapper"><div id="index" class="page_content"><div class="container"><section class="full_width guide"><article class="guide_content"><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Reference</a></span> &gt; <span class="breadcrumb-link"><a href="query-dsl.html">Query DSL</a></span> &gt; <span class="breadcrumb-node">Filters</span></div><div class="navheader"><span class="prev"><a href="query-dsl-multi-term-rewrite.html">
              « 
              Multi Term Query Rewrite</a>
           
        </span><span class="next">
           
          <a href="query-dsl-and-filter.html">And Filter
               » 
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="query-dsl-filters"></a>Filters</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="query-dsl-and-filter.html">And Filter</a></span></dt><dt><span class="section"><a href="query-dsl-bool-filter.html">Bool Filter</a></span></dt><dt><span class="section"><a href="query-dsl-exists-filter.html">Exists Filter</a></span></dt><dt><span class="section"><a href="query-dsl-geo-bounding-box-filter.html">Geo Bounding Box Filter</a></span></dt><dt><span class="section"><a href="query-dsl-geo-distance-filter.html">Geo Distance Filter</a></span></dt><dt><span class="section"><a href="query-dsl-geo-distance-range-filter.html">Geo Distance Range Filter</a></span></dt><dt><span class="section"><a href="query-dsl-geo-polygon-filter.html">Geo Polygon Filter</a></span></dt><dt><span class="section"><a href="query-dsl-geo-shape-filter.html">GeoShape Filter</a></span></dt><dt><span class="section"><a href="query-dsl-geohash-cell-filter.html">Geohash Cell Filter</a></span></dt><dt><span class="section"><a href="query-dsl-has-child-filter.html">Has Child Filter</a></span></dt><dt><span class="section"><a href="query-dsl-has-parent-filter.html">Has Parent Filter</a></span></dt><dt><span class="section"><a href="query-dsl-ids-filter.html">Ids Filter</a></span></dt><dt><span class="section"><a href="query-dsl-limit-filter.html">Limit Filter</a></span></dt><dt><span class="section"><a href="query-dsl-match-all-filter.html">Match All Filter</a></span></dt><dt><span class="section"><a href="query-dsl-missing-filter.html">Missing Filter</a></span></dt><dt><span class="section"><a href="query-dsl-nested-filter.html">Nested Filter</a></span></dt><dt><span class="section"><a href="query-dsl-not-filter.html">Not Filter</a></span></dt><dt><span class="section"><a href="query-dsl-numeric-range-filter.html">Numeric Range Filter</a></span></dt><dt><span class="section"><a href="query-dsl-or-filter.html">Or Filter</a></span></dt><dt><span class="section"><a href="query-dsl-prefix-filter.html">Prefix Filter</a></span></dt><dt><span class="section"><a href="query-dsl-query-filter.html">Query Filter</a></span></dt><dt><span class="section"><a href="query-dsl-range-filter.html">Range Filter</a></span></dt><dt><span class="section"><a href="query-dsl-regexp-filter.html">Regexp Filter</a></span></dt><dt><span class="section"><a href="query-dsl-script-filter.html">Script Filter</a></span></dt><dt><span class="section"><a href="query-dsl-term-filter.html">Term Filter</a></span></dt><dt><span class="section"><a href="query-dsl-terms-filter.html">Terms Filter</a></span></dt><dt><span class="section"><a href="query-dsl-type-filter.html">Type Filter</a></span></dt></dl></div><p>As a general rule, filters should be used instead of queries:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
for binary yes/no searches
</li><li class="listitem">
for queries on exact values
</li></ul></div><h3><a id="_filters_and_caching"></a>Filters and Caching</h3><p>Filters can be a great candidate for caching. Caching the result of a
filter does not require a lot of memory, and will cause other queries
executing against the same filter (same parameters) to be blazingly
fast.</p><p>Some filters already produce a result that is easily cacheable, and the
difference between caching and not caching them is the act of placing
the result in the cache or not. These filters, which include the
<a class="link" href="query-dsl-term-filter.html" title="Term Filter">term</a>,
<a class="link" href="query-dsl-terms-filter.html" title="Terms Filter">terms</a>,
<a class="link" href="query-dsl-prefix-filter.html" title="Prefix Filter">prefix</a>, and
<a class="link" href="query-dsl-range-filter.html" title="Range Filter">range</a> filters, are by
default cached and are recommended to use (compared to the equivalent
query version) when the same filter (same parameters) will be used
across multiple different queries (for example, a range filter with age
higher than 10).</p><p>Other filters, usually already working with the field data loaded into
memory, are not cached by default. Those filters are already very fast,
and the process of caching them requires extra processing in order to
allow the filter result to be used with different queries than the one
executed. These filters, including the geo,
<a class="link" href="query-dsl-numeric-range-filter.html" title="Numeric Range Filter">numeric_range</a>,
and <a class="link" href="query-dsl-script-filter.html" title="Script Filter">script</a> filters
are not cached by default.</p><p>The last type of filters are those working with other filters. The
<a class="link" href="query-dsl-and-filter.html" title="And Filter">and</a>,
<a class="link" href="query-dsl-not-filter.html" title="Not Filter">not</a> and
<a class="link" href="query-dsl-or-filter.html" title="Or Filter">or</a> filters are not
cached as they basically just manipulate the internal filters.</p><p>All filters allow to set <code class="literal">_cache</code> element on them to explicitly control
caching. They also allow to set <code class="literal">_cache_key</code> which will be used as the
caching key for that filter. This can be handy when using very large
filters (like a terms filter with many elements in it).</p></div><div class="navfooter"><span class="prev"><a href="query-dsl-multi-term-rewrite.html">
              « 
              Multi Term Query Rewrite</a>
           
        </span><span class="next">
           
          <a href="query-dsl-and-filter.html">And Filter
               » 
            </a></span></div></article></section></div></div></div><script type="text/javascript" src="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/prettify.js?ver=3.5.2"></script><script type="text/javascript" src="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/launch.js?ver=3.5.2"></script></body></html>
