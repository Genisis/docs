<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Warmers</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Reference" /><link rel="up" href="indices.html" title="Indices APIs" /><link rel="prev" href="indices-templates.html" title="Index Templates" /><link rel="next" href="indices-status.html" title="Status" /><script type="text/javascript" src="http://www.elasticsearch.org/wp-includes/js/jquery/jquery.js?ver=1.8.3"></script><link rel="stylesheet" id="prettify-gc-syntax-highlighter-css" href="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/prettify.css?ver=3.5.2" type="text/css" media="all" /><link rel="stylesheet" id="appStyles-css" href="http://www.elasticsearch.org/content/themes/elasticsearch-org/css/main.css?ver=1376314515" type="text/css" media="all" /><script type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/vendor/modernizr-2.6.1.min.js?ver=1"></script><script type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/vendor/selectivizr-min.js?ver=1"></script><script type="text/javascript" src="http://www.elasticsearch.org/content/themes/elasticsearch-org/js/plugins.min.js?ver=1375472072"></script><link rel="stylesheet" type="text/css" href="styles.css" /></head><body class="single single-guide"><div class="global_wrapper"><div id="index" class="page_content"><div class="container"><section class="full_width guide"><article class="guide_content"><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Reference</a></span> &gt; <span class="breadcrumb-link"><a href="indices.html">Indices APIs</a></span> &gt; <span class="breadcrumb-node">Warmers</span></div><div class="navheader"><span class="prev"><a href="indices-templates.html">
              « 
              Index Templates</a>
           
        </span><span class="next">
           
          <a href="indices-status.html">Status
               » 
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="indices-warmers"></a>Warmers</h2></div></div></div><div class="toc"><dl><dt><span class="chapter"><a href="indices-create-index.html">Create Index</a></span></dt><dt><span class="chapter"><a href="indices-delete-index.html">Delete Index</a></span></dt><dt><span class="chapter"><a href="indices-exists.html">Indices Exists</a></span></dt><dt><span class="chapter"><a href="indices-open-close.html">Open / Close Index API</a></span></dt><dt><span class="chapter"><a href="indices-put-mapping.html">Put Mapping</a></span></dt><dt><span class="chapter"><a href="indices-get-mapping.html">Get Mapping</a></span></dt><dt><span class="chapter"><a href="indices-types-exists.html">Types Exists</a></span></dt><dt><span class="chapter"><a href="indices-delete-mapping.html">Delete Mapping</a></span></dt><dt><span class="chapter"><a href="indices-aliases.html">Index Aliases</a></span></dt><dt><span class="chapter"><a href="indices-update-settings.html">Update Indices Settings</a></span></dt><dt><span class="chapter"><a href="indices-get-settings.html">Get Settings</a></span></dt><dt><span class="chapter"><a href="indices-analyze.html">Analyze</a></span></dt><dt><span class="chapter"><a href="indices-templates.html">Index Templates</a></span></dt><dt><span class="chapter"><a href="indices-warmers.html">Warmers</a></span></dt><dt><span class="chapter"><a href="indices-status.html">Status</a></span></dt><dt><span class="chapter"><a href="indices-stats.html">Indices Stats</a></span></dt><dt><span class="chapter"><a href="indices-segments.html">Indices Segments</a></span></dt><dt><span class="chapter"><a href="indices-clearcache.html">Clear Cache</a></span></dt><dt><span class="chapter"><a href="indices-flush.html">Flush</a></span></dt><dt><span class="chapter"><a href="indices-refresh.html">Refresh</a></span></dt><dt><span class="chapter"><a href="indices-optimize.html">Optimize</a></span></dt><dt><span class="chapter"><a href="indices-gateway-snapshot.html">Gateway Snapshot</a></span></dt></dl></div><p>Index warming allows to run registered search requests to warm up the
index before it is available for search. With the near real time aspect
of search, cold data (segments) will be warmed up before they become
available for search. This feature is available from version 0.20
onwards.</p><p>Warmup searches typically include requests that require heavy loading of
data, such as faceting or sorting on specific fields. The warmup APIs
allows to register warmup (search) under specific names, remove them,
and get them.</p><p>Index warmup can be disabled by setting <code class="literal">index.warmer.enabled</code> to
<code class="literal">false</code>. It is supported as a realtime setting using update settings
API. This can be handy when doing initial bulk indexing, disabling pre
registered warmers to make indexing faster and less expensive and then
enable it.</p><h3><a id="_index_creation_templates"></a>Index Creation / Templates</h3><p>Warmers can be registered when an index gets created, for example:</p><pre class="programlisting prettyprint lang-js">curl -XPUT localhost:9200/test -d '{
    "warmers" : {
        "warmer_1" : {
            "types" : [],
            "source" : {
                "query" : {
                    ...
                },
                "facets" : {
                    ...
                }
            }
        }
    }
}'</pre><p>Or, in an index template:</p><pre class="programlisting prettyprint lang-js">curl -XPUT localhost:9200/_template/template_1 -d '
{
    "template" : "te*",
    "warmers" : {
        "warmer_1" : {
            "types" : [],
            "source" : {
                "query" : {
                    ...
                },
                "facets" : {
                    ...
                }
            }
        }
    }
}'</pre><h3><a id="_put_warmer"></a>Put Warmer</h3><p>Allows to put a warmup search request on a specific index (or indices),
with the body composing of a regular search request. Types can be
provided as part of the URI if the search request is designed to be run
only against the specific types.</p><p>Here is an example that registers a warmup called <code class="literal">warmer_1</code> against
index <code class="literal">test</code> (can be alias or several indices), for a search request
that runs against all types:</p><pre class="programlisting prettyprint lang-js">curl -XPUT localhost:9200/test/_warmer/warmer_1 -d '{
    "query" : {
        "match_all" : {}
    },
    "facets" : {
        "facet_1" : {
            "terms" : {
                "field" : "field"
            }
        }
    }
}'</pre><p>And an example that registers a warmup against specific types:</p><pre class="programlisting prettyprint lang-js">curl -XPUT localhost:9200/test/type1/_warmer/warmer_1 -d '{
    "query" : {
        "match_all" : {}
    },
    "facets" : {
        "facet_1" : {
            "terms" : {
                "field" : "field"
            }
        }
    }
}'</pre><h3><a id="_delete_warmer"></a>Delete Warmer</h3><p>Removing a warmer can be done against an index (or alias / indices)
based on its name. The provided name can be a simple wildcard expression
or omitted to remove all warmers. Some samples:</p><pre class="programlisting prettyprint lang-js"># delete warmer named warmer_1 on test index
curl -XDELETE localhost:9200/test/_warmer/warmer_1

# delete all warmers that start with warm on test index
curl -XDELETE localhost:9200/test/_warmer/warm*

# delete all warmers for test index
curl -XDELETE localhost:9200/test/_warmer/</pre><h3><a id="_getting_warmer"></a>GETting Warmer</h3><p>Getting a warmer for specific index (or alias, or several indices) based
on its name. The provided name can be a simple wildcard expression or
omitted to get all warmers. Some examples:</p><pre class="programlisting prettyprint lang-js"># get warmer named warmer_1 on test index
curl -XGET localhost:9200/test/_warmer/warmer_1

# get all warmers that start with warm on test index
curl -XGET localhost:9200/test/_warmer/warm*

# get all warmers for test index
curl -XGET localhost:9200/test/_warmer/</pre></div><div class="navfooter"><span class="prev"><a href="indices-templates.html">
              « 
              Index Templates</a>
           
        </span><span class="next">
           
          <a href="indices-status.html">Status
               » 
            </a></span></div></article></section></div></div></div><script type="text/javascript" src="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/prettify.js?ver=3.5.2"></script><script type="text/javascript" src="http://www.elasticsearch.org/content/plugins/prettify-gc-syntax-highlighter/launch.js?ver=3.5.2"></script></body></html>
